<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Toy City ‚Äì Order Portal</title>
<style>
  *{box-sizing:border-box}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:linear-gradient(135deg,#667eea,#764ba2);color:#2d3748;min-height:100vh;margin:0}
  header{background:linear-gradient(135deg,#1e3c72,#2a5298);color:#fff;padding:18px 20px;position:sticky;top:0;z-index:10}
  .header{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap}
  .logo{font-weight:800;font-size:20px;letter-spacing:.3px}
  .wrap{max-width:1200px;margin:20px auto;padding:0 16px}
  .card{background:#fff;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.15);padding:20px;margin-bottom:16px}
  .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  .input{padding:10px 12px;border:2px solid #e2e8f0;border-radius:10px;font-size:14px;min-width:200px}
  .input:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px rgba(102,126,234,.12)}
  .btn{padding:10px 14px;border:none;border-radius:10px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-weight:700;cursor:pointer}
  .ghost{background:transparent;color:#fff;border:2px solid rgba(255,255,255,.85)}
  .muted{color:#718096;font-size:13px}
  .order{border:1px solid #e2e8f0;border-radius:12px;padding:14px;margin:12px 0}
  .order-head{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap}
  .badge{display:inline-block;padding:6px 10px;border-radius:999px;font-size:12px;color:#fff;background:linear-gradient(135deg,#667eea,#764ba2)}
  .badge.success{background:linear-gradient(135deg,#11998e,#38ef7d)}
  .badge.warning{background:linear-gradient(135deg,#ff6a00,#ee0979)}
  table{width:100%;border-collapse:separate;border-spacing:0;margin-top:10px;border-radius:10px;overflow:hidden}
  th,td{padding:10px 8px;border-bottom:1px solid #e2e8f0;font-size:13px}
  th{background:#f6f7ff;color:#2d3a6a;font-weight:700;text-transform:uppercase;letter-spacing:.3px}
  .no-print{display:block}
  @media print{.no-print{display:none}}
  .timeline{position:relative;margin:10px 0;padding-left:28px}
  .timeline::before{content:"";position:absolute;left:10px;top:0;bottom:0;width:4px;background:#e2e8f0;border-radius:4px}
  .titem{position:relative;margin:10px 0}
  .titem::before{content:"";position:absolute;left:-22px;top:2px;width:16px;height:16px;border-radius:50%;background:#667eea;box-shadow:0 0 0 3px rgba(102,126,234,.2)}
  .titem.done::before{background:#38a169}
  .qr{width:84px;height:84px;border:1px solid #e2e8f0;border-radius:8px}
</style>
</head>
<body>
<header class="no-print">
  <div class="header">
    <div class="logo">üéÆ Toy City ‚Äì Order Portal</div>
    <nav class="row">
      <button class="ghost" onclick="showTab('tabCustomer')">üîç ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</button>
      <button class="ghost" onclick="showTab('tabAdmin')">‚öôÔ∏è Admin</button>
      <button class="ghost" onclick="window.print()">üñ® ‡∏û‡∏¥‡∏°‡∏û‡πå</button>
    </nav>
  </div>
</header>

<div class="wrap">

  <!-- CUSTOMER -->
  <div id="tabCustomer" class="card">
    <h3>‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≠‡∏á</h3>
    <div class="muted" style="margin:6px 0">
      ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÉ‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (‡∏°‡∏µ‡πÇ‡∏ó‡πÄ‡∏Ñ‡∏ô)
    </div>
    <div id="c-box"></div>
  </div>

  <!-- ADMIN -->
  <div id="tabAdmin" class="card" style="display:none">
    <h3>Admin Console</h3>
    <div id="adminLogin">
      <div class="row" style="margin:6px 0">
        <input id="a-pass" class="input" type="password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô Admin" onkeypress="if(event.key==='Enter') adminLogin()">
        <button class="btn" onclick="adminLogin()">üîê ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
      </div>
    </div>

    <div id="adminPanel" style="display:none">
      <!-- ‡πÅ‡∏ñ‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤/‡∏Å‡∏£‡∏≠‡∏á -->
      <div class="row no-print" style="margin:8px 0">
        <input id="q" class="input" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤: ‡πÉ‡∏ö‡∏à‡∏≠‡∏á / ‡∏ä‡∏∑‡πà‡∏≠ / ‡∏≠‡∏µ‡πÄ‡∏°‡∏• / ‡πÇ‡∏ó‡∏£ / To Shop">
        <select id="fromShop" class="input">
          <option value="">From Shop: ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
        </select>
        <select id="toShop" class="input">
          <option value="">To Shop: ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
        </select>
        <button class="btn" onclick="clearSearch()">‡∏•‡πâ‡∏≤‡∏á</button>
        <button class="btn" onclick="loadOrders()">üîÑ ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä</button>
      </div>
      <div id="a-result"></div>
    </div>
  </div>
</div>

<script>
/* ====== CONFIG ====== */
const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbzc8m3R_sUQX3kDZEbYFYMwaNxrrju1VWkX6HGGCnUON9dR48p-woccIuddzk_8RxP_3g/exec'; // ‚Üê ‡πÉ‡∏™‡πà /exec ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
const ADMIN_PASS  = '6515';

/* ====== STATE ====== */
let adminKey = null;
let ALL_ORDERS = [];

/* ====== NAV ====== */
function showTab(id){
  document.getElementById('tabCustomer').style.display = (id==='tabCustomer')?'block':'none';
  document.getElementById('tabAdmin').style.display    = (id==='tabAdmin')?'block':'none';
}

/* ====== UTIL ====== */
const esc = s => String(s||'').replace(/[&<>"]/g,c=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;' }[c]));
const num = n => Number(n||0).toLocaleString('th-TH');
function discLabel(v){
  const s = String(v??'').trim();
  if (!s) return '‡πÑ‡∏°‡πà‡∏°‡∏µ';
  const m = s.match(/(\d+(?:\.\d+)?)\s*%/);
  if (m) return `${(+m[1]).toString().replace(/\.0+$/,'')}%`;
  const n = parseFloat(s);
  if (isNaN(n)) return s;
  const pct = n>1 ? n : n*100;
  return `${(+pct).toString().replace(/\.0+$/,'')}%`;
}
function badgeClass(st){
  if (st.includes('‡∏à‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤')) return 'warning';
  if (st.includes('‡∏ñ‡∏∂‡∏á‡∏£‡πâ‡∏≤‡∏ô') || st.includes('‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤')) return 'success';
  return '';
}
function qrUrl(text){
  return `https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=${encodeURIComponent(text)}`;
}

/* ====== CUSTOMER (PDPA link) ====== */
function loadCustomerByLink(){
  const p = new URLSearchParams(location.search);
  const booking = p.get('booking');
  const token   = p.get('token');
  const cbox = document.getElementById('c-box');
  if (!booking || !token){
    cbox.innerHTML = '<div class="order">‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÉ‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏•</div>';
    return;
  }
  cbox.innerHTML = '<div class="order">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≠‡∏á‚Ä¶</div>';
  fetch(`${WEB_APP_URL}?action=order&booking=${encodeURIComponent(booking)}&token=${encodeURIComponent(token)}`)
    .then(r=>r.json())
    .then(res=>{
      if (!res.ok || !res.data){ cbox.innerHTML = '<div class="order">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≠‡∏á</div>'; return; }
      cbox.innerHTML = renderOrder(res.data,false,true);
    })
    .catch(()=> cbox.innerHTML = '<div class="order">‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ</div>');
}

/* ====== ADMIN ====== */
function adminLogin(){
  const pass = document.getElementById('a-pass').value.trim();
  if (pass !== ADMIN_PASS){ alert('‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á'); return; }
  adminKey = pass;
  document.getElementById('adminLogin').style.display='none';
  document.getElementById('adminPanel').style.display='block';
  loadOrders();
}

async function fetchOrders(){
  const url = `${WEB_APP_URL}?action=list&adminKey=${encodeURIComponent(adminKey)}`;
  const res = await fetch(url).then(r=>r.json());
  return res;
}

async function loadOrders(){
  const box = document.getElementById('a-result');
  box.innerHTML = '<div class="order">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‚Ä¶</div>';
  try{
    const res = await fetchOrders();
    if(!res.ok){ box.innerHTML = '<div class="order">‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</div>'; return; }
    ALL_ORDERS = res.data || [];
    buildFilters(ALL_ORDERS);
    renderList(ALL_ORDERS);
    // bind
    document.getElementById('q').oninput = applyFilter;
    document.getElementById('fromShop').onchange = applyFilter;
    document.getElementById('toShop').onchange   = applyFilter;
  }catch(e){
    box.innerHTML = '<div class="order">‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ</div>';
  }
}

function buildFilters(list){
  const selF = document.getElementById('fromShop');
  const selT = document.getElementById('toShop');
  const setOpts = (sel, arr, label) => {
    sel.innerHTML = `<option value="">${label}: ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>` +
      arr.map(s=>`<option value="${esc(s)}">${esc(s)}</option>`).join('');
  };
  const Fs = [...new Set(list.map(o=>String(o.fromShop||'').trim()).filter(Boolean))].sort();
  const Ts = [...new Set(list.map(o=>String(o.toShop  ||'').trim()).filter(Boolean))].sort();
  setOpts(selF, Fs, 'From Shop');
  setOpts(selT, Ts, 'To Shop');
}

function applyFilter(){
  const q  = (document.getElementById('q')?.value || '').trim().toLowerCase();
  const fs = (document.getElementById('fromShop')?.value || '').trim();
  const ts = (document.getElementById('toShop')?.value   || '').trim();
  let out = ALL_ORDERS.slice();

  if (q){
    out = out.filter(o=>{
      const hay = [
        o.booking,
        o.customer?.name, o.customer?.last,
        o.customer?.email, o.customer?.tel,
        o.fromShop, o.toShop
      ].map(x => String(x||'').toLowerCase());
      return hay.some(x => x.includes(q));
    });
  }
  if (fs) out = out.filter(o => String(o.fromShop||'').trim() === fs);
  if (ts) out = out.filter(o => String(o.toShop  ||'').trim() === ts);

  renderList(out);
}
function clearSearch(){
  const q  = document.getElementById('q');  if (q) q.value = '';
  const fs = document.getElementById('fromShop'); if (fs) fs.value = '';
  const ts = document.getElementById('toShop');   if (ts) ts.value = '';
  renderList(ALL_ORDERS);
}

/* ====== UPDATE (Admin) ====== */
async function updateStatus(booking){
  const st = document.getElementById('st-'+booking).value;
  const url = `${WEB_APP_URL}?action=update&adminKey=${encodeURIComponent(adminKey)}&booking=${encodeURIComponent(booking)}&status=${encodeURIComponent(st)}`;
  const res = await fetch(url).then(r=>r.json());
  if(res.ok){ alert('‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß (‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤)'); loadOrders(); } else { alert('‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à'); }
}

/* ====== RENDER ====== */
function renderList(list){
  const host = document.getElementById('a-result');
  host.innerHTML = list.map(o=>renderOrder(o,true,false)).join('') || '<div class="order">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>';
}

function renderOrder(o, includeControls, customerView){
  const hasDisc     = o.items.some(it => (it.disc||'').toString().trim()     !== '');
  const hasDiscCode = o.items.some(it => (it.discCode||'').toString().trim() !== '');
  const hasDiscRule = o.items.some(it => (it.discRule||'').toString().trim() !== '');

  const thead = `
    <tr>
      <th>‡∏£‡∏´‡∏±‡∏™</th>
      <th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
      <th>‡∏£‡∏≤‡∏Ñ‡∏≤</th>
      <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
      <th>‡∏£‡∏ß‡∏°</th>
      ${hasDisc?'<th>PROMOTION %</th>':''}
      ${hasDiscCode?'<th>PROMOTION CODE</th>':''}
      ${hasDiscRule?'<th>CONDITION</th>':''}
    </tr>`;

  const tbody = o.items.map(it=>`
    <tr>
      <td>${esc(it.code)}</td>
      <td>${esc(it.desc)}</td>
      <td align="right">${num(it.price)}</td>
      <td align="right">${num(it.qty)}</td>
      <td align="right">
        ${it.amountGross>it.amountNet
          ? `<span style="text-decoration:line-through;color:#888">${num(it.amountGross)}</span> ‚Üí <b>${num(it.amountNet)}</b>`
          : `<b>${num(it.amountNet)}</b>`}
      </td>
      ${hasDisc?`<td>${esc(discLabel(it.disc))}</td>`:''}
      ${hasDiscCode?`<td>${esc(it.discCode||'‡πÑ‡∏°‡πà‡∏°‡∏µ')}</td>`:''}
      ${hasDiscRule?`<td>${esc(it.discRule||'‡πÑ‡∏°‡πà‡∏°‡∏µ')}</td>`:''}
    </tr>`).join('');

  let badge = 'badge';
  const bc = badgeClass(o.status); if (bc) badge += ' '+bc;

  const adminBlock = includeControls ? `
    <div class="row" style="margin-top:8px;background:#f7fafc;padding:10px;border-radius:10px">
      <select id="st-${o.booking}" class="input">
        <option ${o.status==='‡∏à‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤'?'selected':''}>‡∏à‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</option>
        <option ${o.status.startsWith('‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤')?'selected':''}>‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 7 ‡∏ß‡∏±‡∏ô)</option>
        <option ${o.status==='‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß'?'selected':''}>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß</option>
        <option ${o.status==='‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢'?'selected':''}>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢</option>
      </select>
      <button class="btn" onclick="updateStatus('${o.booking}')">üíæ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</button>
    </div>` : '';

  const custBlock = `
    <div class="muted">
      üë§ ${esc(o.customer?.name||'')} ${esc(o.customer?.last||'')} ¬∑
      üìß ${esc(o.customer?.email||'-')} ¬∑
      üìû ${esc(o.customer?.tel||'-')}
    </div>
    <div class="muted">‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ${esc(o.fromShop||'-')} ‚Üí ${esc(o.toShop||'-')}</div>`;

  const timeline = customerView ? renderTimeline(o) : '';

  return `
  <div class="order">
    <div class="order-head">
      <div>
        <div style="font-weight:800">üìã Booking #${esc(o.booking)}</div>
        <div class="${badge}" style="margin-top:6px">${esc(o.status)}</div>
        <div class="muted">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ${esc(o.statusAt||'-')}</div>
      </div>
      <img class="qr" alt="QR" src="${qrUrl(o.booking)}">
    </div>

    ${custBlock}
    ${timeline}

    <table>
      <thead>${thead}</thead>
      <tbody>${tbody}</tbody>
      <tfoot>
        <tr>
          <td colspan="${5 + (hasDisc?1:0) + (hasDiscCode?1:0) + (hasDiscRule?1:0)}" align="right"><b>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏ó‡∏ò‡∏¥</b></td>
          <td align="right"><b>${num(o.total)} ‡∏ö‡∏≤‡∏ó</b></td>
        </tr>
      </tfoot>
    </table>
    ${adminBlock}
  </div>`;
}

function renderTimeline(o){
  // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô
  const flow = [
    {key:'‡∏à‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤', icon:'üìù'},
    {key:'‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤', icon:'üì¶'},
    {key:'‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß', icon:'üè™'},
    {key:'‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢', icon:'‚úÖ'}
  ];
  const cur = o.status || '';
  return `
    <div class="timeline">
      ${flow.map(st=>{
        const done = cur.includes(st.key) || (cur==='‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢' && st.key!==''); // mark ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô done
        return `<div class="titem ${done?'done':''}">
          <div><b>${st.icon} ${st.key}</b></div>
        </div>`;
      }).join('')}
    </div>`;
}

/* ====== BOOT ====== */
showTab('tabCustomer');
loadCustomerByLink();
</script>
</body>
</html>
